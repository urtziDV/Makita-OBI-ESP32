# Диагностика аккумуляторов Makita на ESP32 с веб-интерфейсом
[веб интерфейс.jpg
](https://github.com/Belik1982/esp32-makita-bms-reader/blob/c91c779835eb85f1afc131b2cbf124385a087442/%D0%B2%D0%B5%D0%B1%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81.jpg)
Этот проект представляет собой автономное устройство на базе ESP32 для полной диагностики Li-ion аккумуляторов Makita LXT. Устройство создает веб-сервер, доступ к которому можно получить с любого смартфона или компьютера по Wi-Fi для просмотра напряжений ячеек, температуры, циклов заряда и выполнения сервисных функций.

## Ключевые возможности

*   **Полная совместимость:** Поддерживаются как стандартные контроллеры, так и более редкие F0513.
*   **Интерактивный Веб-интерфейс:** Адаптивный дизайн для мобильных и десктопных устройств.
*   **Визуализация в реальном времени:** Графическое отображение сборки аккумулятора с цветовой индикацией состояния каждой ячейки.
*   **Расчет SOC:** Автоматический расчет уровня заряда (State of Charge) на основе среднего напряжения.
*   **Сервисные функции:** Возможность запускать тест светодиодов и сбрасывать ошибки BMS (для поддерживаемых моделей).
*   **Мультиязычность:** Поддержка русского и украинского языков.

## Аппаратные компоненты

*   Микроконтроллер **ESP32** (любая модель, например, Wemos D1 Mini ESP32 или NodeMCU-32S).
*   NPN-транзистор **2SD882** (или аналог, например, BC547, но D882 предпочтительнее для надежности).
*   Резистор **1 кОм** (для базы транзистора).
*   Резистор **4.7 кОм** (подтягивающий резистор, рекомендуется для совместимости со старыми батареями номинал подбирать до уверенного просыпания батареи 2,2кОм а то и ниже).
*   Коннектор для подключения к аккумулятору Makita.

## Схема подключения

*Схема реализована на транзисторном ключе для согласования логических уровней 3.3В (ESP32) и 5В (BMS).*

*   **Пин `Enable` батареи** -> к **Коллектору** транзистора.
*   **Коллектор** транзистора -> через резистор **4.7 кОм** -> к **+5В** на ESP32.
*   **База** транзистора -> через резистор **1 кОм** -> к управляющему **GPIO пину** на ESP32.
*   **Эмиттер** транзистора -> к **GND**.
*   **Пин данных (Data)** батареи -> к **GPIO пину** на ESP32.

## Прошивка

Проект разработан в среде PlatformIO.
1.  Откройте проект в VS Code с установленным плагином PlatformIO.
2.  Подключите ESP32 к компьютеру.
3.  Нажмите `PlatformIO: Upload and Monitor` для компиляции, прошивки и запуска монитора порта.

## Лицензия

Проект распространяется под лицензией MIT. См. файл `LICENSE` для подробностей.
